**Crop and resize CPU Vs DSP performance C++ example for H15**

**Last H15 version checked - 1.2.0**

**Disclaimer:** <br />
This code example is provided by Hailo solely on an “AS IS” basis and “with all faults”. No responsibility or liability is accepted or shall be imposed upon Hailo regarding the accuracy, merchantability, completeness or suitability of the code example. Hailo shall not have any liability or responsibility for errors or omissions in, or any business decisions made by you in reliance on this code example or any part of it. If an error occurs when running this example, please open a ticket in the "Issues" tab.<br />
Please note that this example was tested on specific versions and we can only guarantee the expected results using the exact version mentioned above on the exact environment. The example might work for other versions, other environment or other HEF file, but there is no guarantee that it will.


This example was tested on H15 EVB with Vision_Processor_SW_Package_2024_01.2.tar.gz

The example does the following:

1. Cross Compiles the CPP example for H15
2. Gets the resources (input image) needed to run the performance test
3. Performs the performance test on a H15 platform
4. Generates an output_cpu.jpg and an output_cpu.jpg files 
5. Prints timing performance statistics to screen

### Prequisites ###
- H15 cross development toolchain (Generated by toolchain shell script under release/prebuild/sdk/ in the Vision_Processor_SW_Package)
- H15 platform for executing

### Usage ###
1. On the development machine
   1. run the cross development toolchain env
   2. in order to run performance test on crop and resize make sure '#define CROP_CHECK' is not commented
   3. in order to run performance test only on resize make sure this line is commented '#define CROP_CHECK'
   4. compile the example by running `make`, the built application will reside under /bin/crop_and_resize.arm64 
   5. Get the required jpg by running `./get_jpg.sh'
2. On the H15 platform:
   1. Copy the compiled binary and the downloaded jpg from the development machine to the H15.

   `scp bin/crop_and_resize.arm64 root@10.0.0.1:~/`

   `scp zidane_FHD.jpg root@10.0.0.1:~/`

   2. Run the example on the H15 machine - `./crop_and_resize.arm64`
   3. The example will crop and resize (or just resize) the zidane_FHD.jpg using the H15 DSP and CPU, and generate output files `output_cpu.jpg` and `output_dsp.jpg`, in additon to some tinig statistics.
      1. 'dsp_utils::perform_crop_and_resize() : 0.712 (ms)'
      2. 'cv::resize() : 1.098 (ms)'

   4. Copy the files back to the development machine to view the output

